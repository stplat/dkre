(self.webpackChunk=self.webpackChunk||[]).push([[781],{781:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>Y});var t=n(166),r={class:"layout__aside"},u={class:"layout__content"};var l={class:"aside"},a={class:"aside__logo"},i={class:"aside__menu"};function o(e,s,n){return s in e?Object.defineProperty(e,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[s]=n,e}var d={class:"menu"},m={class:"menu__list"},c={key:0,class:"menu__title"},p={class:"menu__sub-list"};const g={props:{routeName:{type:String,required:!0}},computed:{computedMenuList:function(){var e="index"===this.routeName?"":this.routeName;return[{name:"Панель управления",slug:""},{title:"Складские запасы"},{name:"Мой склад",slug:"checks"},{name:"Неликвиды"},{title:"Настройки доступа"},{name:"Пользователи",slug:"users"}].map((function(s){return Object.assign(s,{active:s.slug===e})}))}},render:function(e,s,n,r,u,l){return(0,t.wg)(),(0,t.j4)("div",d,[(0,t.Wm)("ul",m,[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(l.computedMenuList,(function(s,n){var r;return(0,t.wg)(),(0,t.j4)("li",{key:"menu-link-"+n},[s.hasOwnProperty("title")?((0,t.wg)(),(0,t.j4)("div",c,(0,t.zw)(s.title),1)):s.hasOwnProperty("subList")&&s.subList.length?((0,t.wg)(),(0,t.j4)(t.HY,{key:2},[(0,t.Wm)("input",{type:"checkbox",hidden:"",id:"menu-link-"+n,checked:s.subList.some((function(e){return e.hasOwnProperty("active")}))},null,8,["id","checked"]),(0,t.Wm)("label",{class:["menu__link menu__link--label","menu__link--"+s.slug],for:"menu-link-"+n},(0,t.zw)(s.name),11,["for"]),(0,t.Wm)("ul",p,[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(s.subList,(function(s,n){return(0,t.wg)(),(0,t.j4)("li",{key:"menu-sub-link-"+n},[(0,t.Wm)("a",{class:["menu__link menu__link--sub",{"is-active":s.hasOwnProperty("active")&&s.active}],href:e.asset(s.slug)},(0,t.zw)(s.name),11,["href"])])})),128))])],64)):((0,t.wg)(),(0,t.j4)("a",{key:1,class:["menu__link",(r={},o(r,"menu__link--"+s.slug,s.slug),o(r,"is-active",s.hasOwnProperty("active")&&s.active),r)],href:e.asset(s.slug)},(0,t.zw)(s.name),11,["href"]))])})),128))])])}},_={components:{VMenu:g},props:{routeName:{type:String,required:!0}},render:function(e,s,n,r,u,o){var d=(0,t.up)("v-menu");return(0,t.wg)(),(0,t.j4)("div",l,[(0,t.Wm)("div",a,[(0,t.Wm)("a",{href:e.asset("")},[(0,t.Wm)("img",{src:e.asset("images/logo-text.png"),alt:""},null,8,["src"])],8,["href"])]),(0,t.Wm)("div",i,[(0,t.Wm)(d,{"route-name":n.routeName},null,8,["route-name"])])])}},h=_;var f={class:"header"},w={class:"header__top"},v={class:"header__btn"},W={class:"header__user"},b={class:"header__bottom"},k={class:"header__left"},y={class:"header-title"},j={class:"header__right"},V={class:"breadcrumbs"};var A={class:"user"},O={class:"user__btn"},L={for:"user"},N={key:0,class:"user__dropdown"},$={class:"user-dropdown"},q=(0,t.Wm)("div",{class:"user-dropdown__title"},"Настройки",-1),z={class:"user-dropdown__list"},H=(0,t.Wm)("hr",null,null,-1),P={class:"user-dropdown__list"};const x={data:function(){return{dropped:!1}},watch:{dropped:function(e){e?document.addEventListener("click",this.closeOnDocument):document.removeEventListener("click",this.closeOnDocument)}},methods:{logout:function(){axios.post(this.asset("logout")),window.location.href=this.asset("login")},closeOnDocument:function(e){this.$el!==e.target.closest(".user")&&(this.dropped=!1)}},render:function(e,s,n,r,u,l){return(0,t.wg)(),(0,t.j4)("div",A,[(0,t.Wm)("div",O,[(0,t.wy)((0,t.Wm)("input",{type:"checkbox",id:"user",hidden:"","onUpdate:modelValue":s[1]||(s[1]=function(e){return u.dropped=e})},null,512),[[t.e8,u.dropped]]),(0,t.Wm)("label",L,[(0,t.Wm)("img",{src:e.asset("images/admin_avatar.png"),alt:""},null,8,["src"])])]),(0,t.Wm)(t.uT,{name:"slide-fade",mode:"in-out"},{default:(0,t.w5)((function(){return[u.dropped?((0,t.wg)(),(0,t.j4)("div",N,[(0,t.Wm)("div",$,[q,(0,t.Wm)("ul",z,[(0,t.Wm)("li",null,[(0,t.Wm)("a",{href:e.asset("settings"),class:"user-dropdown__link user-dropdown__link--setting"},"Настройки",8,["href"])])]),H,(0,t.Wm)("ul",P,[(0,t.Wm)("li",null,[(0,t.Wm)("a",{href:e.asset("settings"),class:"user-dropdown__link user-dropdown__link--logout",onClick:s[2]||(s[2]=(0,t.iM)((function(){return l.logout&&l.logout.apply(l,arguments)}),["prevent"]))},"Выход",8,["href"])])])])])):(0,t.ry)("",!0)]})),_:1})])}},I={components:{User:x},emits:["update:modelValue"],props:{modelValue:{type:Boolean,required:!1},breadcrumbs:{type:Array,required:!0}},data:function(){return{}},computed:{computedToggleAside:{get:function(){return this.modelValue},set:function(e){console.log(e),this.$emit("update:modelValue",e)}}},render:function(e,s,n,r,u,l){var a=(0,t.up)("hamburger"),i=(0,t.up)("user");return(0,t.wg)(),(0,t.j4)("div",f,[(0,t.Wm)("div",w,[(0,t.Wm)("div",v,[(0,t.Wm)(a,{modelValue:l.computedToggleAside,"onUpdate:modelValue":s[1]||(s[1]=function(e){return l.computedToggleAside=e})},null,8,["modelValue"])]),(0,t.Wm)("div",W,[(0,t.Wm)(i)])]),(0,t.Wm)("div",b,[(0,t.Wm)("div",k,[(0,t.Wm)("div",y,[(0,t.Wm)("h1",null,[(0,t.WI)(e.$slots,"default")]),(0,t.WI)(e.$slots,"tip")])]),(0,t.Wm)("div",j,[(0,t.Wm)("ul",V,[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(n.breadcrumbs,(function(e,s){return(0,t.wg)(),(0,t.j4)("li",{class:"breadcrumbs-item",key:s},[e.slug?((0,t.wg)(),(0,t.j4)("a",{key:0,href:e.slug},(0,t.zw)(e.name),9,["href"])):(0,t.ry)("",!0),e.slug?(0,t.ry)("",!0):((0,t.wg)(),(0,t.j4)(t.HY,{key:1},[(0,t.Uk)((0,t.zw)(e.name),1)],64))])})),128))])])])])}},U={components:{VAside:h,VHeader:I},props:{breadcrumbs:{type:Array,required:!0},routeName:{type:String,required:!0}},data:function(){return{shownAside:!1}},render:function(e,s,n,l,a,i){var o=(0,t.up)("v-aside"),d=(0,t.up)("v-header");return(0,t.wg)(),(0,t.j4)("main",{class:["layout",{"is-opened":a.shownAside}]},[(0,t.Wm)("div",r,[(0,t.Wm)(o,{"route-name":n.routeName},null,8,["route-name"])]),(0,t.Wm)("div",u,[(0,t.Wm)(d,{modelValue:a.shownAside,"onUpdate:modelValue":s[1]||(s[1]=function(e){return a.shownAside=e}),breadcrumbs:n.breadcrumbs},{tip:(0,t.w5)((function(){return[(0,t.WI)(e.$slots,"tip")]})),default:(0,t.w5)((function(){return[(0,t.WI)(e.$slots,"title")]})),_:3},8,["modelValue","breadcrumbs"]),(0,t.WI)(e.$slots,"default")])],2)}},Y=U}}]);
//# sourceMappingURL=781.chunk.js.map